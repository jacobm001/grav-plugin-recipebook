{%- set object_context = object ?? {} -%}
{%- set object_layout = object_context.layout ?? ('list-' ~ layout) -%}

<div id="flex-objects">
	<div class="text-center">
		<input class="form-input search" type="text" placeholder="Search by title, description, and tags"/>
		<button class="button button-primary sort asc" data-sort="title">
			Sort by Name
		</button>
	</div>

	<ul class="list">
		{% for object in collection.filterBy({ published: true }) %}
			<li>
				{% render object layout: object_layout with object_context %}
			</li>
		{% endfor %}
	</ul>
</div>

<script>
	var options = {
		valueNames: ['title', 'description', 'tags']
	};
	var flexList = new List('flex-objects', options);
</script>
